import{RouterProvider as C,Link as h,createRootRoute as F,Outlet as E,HeadContent as H,Scripts as O,createFileRoute as g,lazyRouteComponent as S,createRouter as N}from"@tanstack/react-router";import{jsx as r,jsxs as p}from"react/jsx-runtime";import{isPlainObject as M,encode as k,isRedirect as A,isNotFound as D}from"@tanstack/router-core";import{startSerializer as l,mergeHeaders as _,createServerFn as W}from"@tanstack/start-client-core";import{defineHandlerCallback as z,transformReadableStreamWithRouter as G,transformPipeableStreamWithRouter as I,getHeaders as J,getEvent as B,createStartHandler as U}from"@tanstack/start-server-core";import K from"tiny-invariant";import{PassThrough as L}from"node:stream";import{isbot as j}from"isbot";import m from"react-dom/server";function w(e){return r(C,{router:e.router})}const X=z(async({request:e,router:t,responseHeaders:s})=>{if(typeof m.renderToReadableStream=="function"){const o=await m.renderToReadableStream(r(w,{router:t}),{signal:e.signal});j(e.headers.get("User-Agent"))&&await o.allReady;const a=G(t,o);return new Response(a,{status:t.state.statusCode,headers:s})}if(typeof m.renderToPipeableStream=="function"){const o=new L;try{const i=m.renderToPipeableStream(r(w,{router:t}),{...j(e.headers.get("User-Agent"))?{onAllReady(){i.pipe(o)}}:{onShellReady(){i.pipe(o)}},onError:(d,n)=>{console.error("Error in renderToPipeableStream:",d,n)}})}catch(i){console.error("Error in renderToPipeableStream:",i)}const a=I(t,o);return new Response(a,{status:t.state.statusCode,headers:s})}throw new Error("No renderToReadableStream or renderToPipeableStream found in react-dom/server. Ensure you are using a version of react-dom that supports streaming.")}),Q=()=>({routes:{__root__:{filePath:"__root.tsx",children:["/","/contact","/projects"],preloads:["/_build/assets/client-3HiW7x55.js","/_build/assets/client-BN7oaIpq.js"]},"/":{filePath:"index.tsx"},"/contact":{filePath:"contact.tsx"},"/projects":{filePath:"projects.tsx"}}});function V(e){return globalThis.MANIFEST[e]}function Y(){const e=Q(),t=e.routes.__root__=e.routes.__root__||{};t.assets=t.assets||[];let s="";const o=V("client"),a=o.inputs[o.handler]?.output.path;return a||K(a,"Could not find client entry in vinxi manifest"),t.assets.push({tag:"script",attrs:{type:"module",suppressHydrationWarning:!0,async:!0},children:`${s}import("${a}")`}),e}function Z(){const e=Y();return{...e,routes:Object.fromEntries(Object.entries(e.routes).map(([t,s])=>{const{preloads:o,assets:a}=s;return[t,{preloads:o,assets:a}]}))}}const x="/_build/assets/app-Dl97qwoK.css",q=()=>p("header",{className:"bg-gray-100 flex justify-between px-8 py-3 items-center",children:[r("h1",{className:"text-2xl",children:r(h,{to:"/",children:"Portfolio"})}),p("ul",{className:"flex gap-5 text-blue-900",children:[r("li",{children:r(h,{to:"/",children:"Home"})}),r("li",{children:r(h,{to:"/projects",children:"Projects"})}),r("li",{children:r(h,{to:"/contact",children:"Contact"})})]})]}),f=F({head:()=>({meta:[{charSet:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},{title:"TanStack Start Starter"}],links:[{rel:"stylesheet",href:x}]}),component:ee});function ee(){return p(te,{children:[r(q,{}),r("main",{className:"max-w-4xl mx-auto pt-10",children:r(E,{})})]})}function te({children:e}){return p("html",{children:[r("head",{children:r(H,{})}),p("body",{children:[e,r(O,{})]})]})}async function re(e,t,s){var o;const a=t[0];if(M(a)&&a.method){const n=a,u=n.data instanceof FormData?"formData":"payload",R=new Headers({...u==="payload"?{"content-type":"application/json",accept:"application/json"}:{},...n.headers instanceof Headers?Object.fromEntries(n.headers.entries()):n.headers});if(n.method==="GET"){const c=k({payload:l.stringify({data:n.data,context:n.context})});c&&(e.includes("?")?e+=`&${c}`:e+=`?${c}`)}e.includes("?")?e+="&createServerFn":e+="?createServerFn",n.response==="raw"&&(e+="&raw");const $=await s(e,{method:n.method,headers:R,signal:n.signal,...ne(n)}),y=await b($);if((o=y.headers.get("content-type"))!=null&&o.includes("application/json")){const c=l.decode(await y.json());if(A(c)||D(c)||c instanceof Error)throw c;return c}return y}const i=await b(await s(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)})),d=i.headers.get("content-type");return d&&d.includes("application/json")?l.decode(await i.json()):i.text()}function ne(e){return e.method==="POST"?e.data instanceof FormData?(e.data.set("__TSR_CONTEXT",l.stringify(e.context)),{body:e.data}):{body:l.stringify({data:e.data??null,context:e.context})}:{}}async function b(e){if(!e.ok){const t=e.headers.get("content-type");throw t&&t.includes("application/json")?l.decode(await e.json()):new Error(await e.text())}return e}function oe(e){return e.replace(/^\/|\/$/g,"")}const ae=(e,t)=>{const s=`/${oe(t)}/${e}`;return Object.assign((...a)=>re(s,a,async(i,d)=>{d.headers=_(J(),d.headers);const n=await $fetch.native(i,d),u=B(),R=_(n.headers,u.___ssrRpcResponseHeaders);return u.___ssrRpcResponseHeaders=R,n}),{url:s,functionId:e})},se=()=>import("./projects-BjUMRhap.js"),ie=ae("app_routes_projects_tsx--getProjects_createServerFn_handler","/_server"),ce=W({method:"GET"}).handler(ie),P=g("/projects")({head:()=>({meta:[{charSet:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},{title:"projects"}],links:[{rel:"stylesheet",href:x}]}),component:S(se,"component",()=>P.ssr),loader:()=>ce()}),de=()=>import("./contact-AlHtHBcX.js"),v=g("/contact")({component:S(de,"component",()=>v.ssr)}),le=()=>import("./index-DXmnmwPj.js"),T=g("/")({component:S(le,"component",()=>T.ssr)}),pe=P.update({id:"/projects",path:"/projects",getParentRoute:()=>f}),ue=v.update({id:"/contact",path:"/contact",getParentRoute:()=>f}),he=T.update({id:"/",path:"/",getParentRoute:()=>f}),me={IndexRoute:he,ContactRoute:ue,ProjectsRoute:pe},fe=f._addFileChildren(me)._addFileTypes();function Re(){return N({routeTree:fe,scrollRestoration:!0})}const ve=U({createRouter:Re,getRouterManifest:Z})(X);export{P as R,ae as c,ve as h};
